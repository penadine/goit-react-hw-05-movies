"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[530],{530:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var n=a(439),c=a(791),r=a(87),i=a(243),o={container:"Movies_container__hb-lD",searchBar:"Movies_searchBar__iJJq5"},s=a(184),u=function(){var e,t=(0,r.lr)(),a=(0,n.Z)(t,2),u=a[0],l=a[1],h=null!==(e=u.get("query"))&&void 0!==e?e:"",d=(0,c.useState)([]),f=(0,n.Z)(d,2),m=f[0],v=f[1],p=(0,c.useState)(h),_=(0,n.Z)(p,2),b=_[0],k=_[1];(0,c.useEffect)((function(){b&&i.Z.get("".concat("https://api.themoviedb.org/3","/search/movie?query=").concat(b,"&api_key=").concat("4eb4e6539dc3b8035d2876c8ff1613bb")).then((function(e){v(e.data.results)})).catch((function(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445:",e)}))}),[b]);var x=function(){sessionStorage.setItem("lastQuery",b)};return(0,s.jsxs)("div",{className:o.container,children:[(0,s.jsxs)("div",{className:o.searchBar,children:[(0,s.jsx)("input",{type:"text",value:b,onChange:function(e){k(e.target.value)},placeholder:"Search for a movie..."}),(0,s.jsx)("button",{onClick:function(){l(""!==b?{query:b}:{})},children:"Search"})]}),(0,s.jsx)("ul",{className:o.moviesList,children:m.map((function(e){return(0,s.jsx)("li",{className:o.movieItem,children:(0,s.jsx)(r.rU,{to:{pathname:"/movies/".concat(e.id)},onClick:x,children:e.title})},e.id)}))})]})}}}]);
//# sourceMappingURL=530.874e37bf.chunk.js.map