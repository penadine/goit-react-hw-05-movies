"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[530],{530:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var n=a(439),c=a(791),r=a(87),s=a(243),o={container:"Movies_container__hb-lD",searchBar:"Movies_searchBar__iJJq5"},i=a(184),u=function(){var e,t=(0,r.lr)(),a=(0,n.Z)(t,2),u=a[0],l=a[1],h=null!==(e=u.get("query"))&&void 0!==e?e:"",f=(0,c.useState)([]),m=(0,n.Z)(f,2),d=m[0],v=m[1],p=(0,c.useState)(h),b=(0,n.Z)(p,2),_=b[0],k=b[1];(0,c.useEffect)((function(){h&&k(h)}),[h]),(0,c.useEffect)((function(){_&&s.Z.get("".concat("https://api.themoviedb.org/3","/search/movie?query=").concat(_,"&api_key=").concat("4eb4e6539dc3b8035d2876c8ff1613bb")).then((function(e){v(e.data.results)})).catch((function(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445:",e)}))}),[_]);var x=function(){sessionStorage.setItem("lastQuery",_)};return(0,i.jsxs)("div",{className:o.container,children:[(0,i.jsxs)("form",{className:o.searchBar,onSubmit:function(e){e.preventDefault();var t=new URLSearchParams(""!==_?{query:_}:{});l(t)},children:[(0,i.jsx)("input",{type:"text",value:_,onChange:function(e){k(e.target.value)},placeholder:"Search for a movie..."}),(0,i.jsx)("button",{type:"submit",children:"Search"})]}),(0,i.jsx)("ul",{className:o.moviesList,children:d.map((function(e){return(0,i.jsx)("li",{className:o.movieItem,children:(0,i.jsx)(r.rU,{to:{pathname:"/movies/".concat(e.id)},onClick:x,children:e.title})},e.id)}))})]})}}}]);
//# sourceMappingURL=530.34190674.chunk.js.map